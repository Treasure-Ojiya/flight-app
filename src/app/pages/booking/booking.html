<main
  class="bg-[#0f172a] min-h-screen flex flex-col items-center py-0.5 px-4 mt-10"
>
  <!-- Booking Form Container -->
  <div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-4xl">
    <h2 class="text-2xl font-bold text-[#0f172a] text-center mb-6">
      Book Your Flight ✈️
    </h2>

    <form [formGroup]="bookingForm" (ngSubmit)="onSubmit()">
      <div class="flex flex-col md:flex-row gap-8 justify-between">
        <!-- Left: Flight Info -->
        <div class="flex-1">
          <h3 class="font-semibold text-lg mb-3 text-[#0f172a]">
            Flight Details
          </h3>

          <!-- Flight ID -->
          <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2">
              Flight ID
            </label>
            <input
              type="number"
              formControlName="flightId"
              class="shadow border rounded w-full py-2 px-3 border-[#fbbf24]"
              readonly
            />
          </div>

          <!-- Customer ID -->
          <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2">
              Customer ID
            </label>
            <input
              type="number"
              formControlName="customerId"
              class="shadow border rounded w-full py-2 px-3 border-[#fbbf24]"
              readonly
            />
          </div>
          @if(!userId){
          <div class="mb-4 p-2 bg-yellow-100 rounded">
            <p class="text-sm text-yellow-800">
              ⚠️ No customer ID found. Please ensure you're logged in.
            </p>
            <button
              type="button"
              (click)="checkFormValues()"
              class="mt-2 bg-blue-500 text-white px-3 py-1 rounded text-sm"
            >
              Debug Form
            </button>
          </div>
          }

          <!-- Booking Date -->
          <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-1">
              Booking Date
            </label>
            <div class="border border-[#fbbf24] rounded p-3 bg-gray-50">
              <p class="text-[#0f172a] font-semibold">
                {{ bookingForm.get("bookingDate")?.value | date : "fullDate" }}
              </p>
              <p class="text-sm text-gray-600">
                Time:
                {{ bookingForm.get("bookingDate")?.value | date : "shortTime" }}
              </p>
            </div>
          </div>

          <!-- Total Amount -->
          <div class="mb-6">
            <label class="block text-gray-700 text-sm font-bold mb-2">
              Total Amount
            </label>
            <input
              type="number"
              formControlName="totalAmount"
              class="shadow border rounded w-full py-2 px-3 border-[#fbbf24]"
              readonly
            />
          </div>
        </div>

        <!-- Right: Traveler Info -->
        <div formArrayName="FlightBookingTravelers" class="flex-1">
          <h3 class="font-semibold text-lg mb-3 text-[#0f172a]">
            Traveler Details
          </h3>

          <div
            [formGroupName]="0"
            class="border rounded-lg p-4 mb-4 bg-gray-50"
          >
            <input
              type="text"
              formControlName="travelerName"
              placeholder="Traveler Name"
              class="shadow border rounded w-full py-2 px-3 mb-3 border-[#fbbf24]"
            />

            <input
              type="text"
              formControlName="contactNo"
              placeholder="Contact Number"
              class="shadow border rounded w-full py-2 px-3 mb-3 border-[#fbbf24]"
            />

            <input
              type="text"
              formControlName="aadharNo"
              placeholder="National ID"
              class="shadow border rounded w-full py-2 px-3 mb-3 border-[#fbbf24]"
            />

            <input
              type="number"
              formControlName="seatNo"
              placeholder="Seat Number"
              class="shadow border rounded w-full py-2 px-3 border-[#fbbf24]"
            />
          </div>
        </div>
      </div>

      <!-- Submit Button -->
      <div class="mt-6 flex justify-center">
        <button
          type="submit"
          class="w-full md:w-1/2 bg-[#0f172a] hover:bg-[#1e293b] text-white font-bold py-3 px-6 rounded focus:outline-none focus:shadow-outline"
        >
          Confirm Booking
        </button>
      </div>
    </form>
  </div>
</main>
