<main
  class="bg-[#0f172a] min-h-screen flex flex-col items-center py-0.5 px-4 mt-10"
>
  <!-- Image -->
  <div class="mb-6 flex justify-center">
    <img
      src="assets/images/booking-placeholder.jpg"
      alt="Booking illustration"
      class="rounded-lg shadow-lg w-72 sm:w-96 md:w-[400px]"
    />
  </div>

  <!-- Booking Form Container -->
  <div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-5xl">
    <h2 class="text-2xl font-bold text-[#0f172a] text-center mb-6">
      Book Your Flight ✈️
    </h2>

    <form [formGroup]="bookingForm" (ngSubmit)="onSubmit()">
      <!-- Main Form Row -->
      <div class="flex flex-col md:flex-row gap-8 justify-between">
        <!-- Left: Flight Info -->
        <div class="flex-1">
          <h3 class="font-semibold text-lg mb-3 text-[#0f172a]">
            Flight Details
          </h3>

          <!-- Flight ID -->
          <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2">
              Flight ID
            </label>
            <input
              type="number"
              class="shadow border rounded w-full py-2 px-3 border-[#fbbf24]"
              formControlName="flightId"
              readonly
            />
          </div>

          <!-- Customer ID -->
          <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2">
              Customer ID
            </label>
            <input
              type="number"
              class="shadow border rounded w-full py-2 px-3 border-[#fbbf24]"
              formControlName="customerId"
              readonly
            />
          </div>

          <!-- Booking Date -->
          <!-- Booking Date -->
          <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-1">
              Booking Date
            </label>
            <div class="border border-[#fbbf24] rounded p-3 bg-gray-50">
              <p class="text-[#0f172a] font-semibold">
                {{ bookingForm.get("bookingDate")?.value | date : "fullDate" }}
              </p>
              <p class="text-sm text-gray-600">
                Time:
                {{ bookingForm.get("bookingDate")?.value | date : "shortTime" }}
              </p>
            </div>
          </div>

          <!-- Total Amount -->
          <div class="mb-6">
            <label class="block text-gray-700 text-sm font-bold mb-2">
              Total Amount
            </label>
            <input
              type="number"
              class="shadow border rounded w-full py-2 px-3 border-[#fbbf24]"
              formControlName="totalAmount"
              readonly
            />
          </div>
        </div>

        <!-- Right: Traveler Info -->
        <div class="flex-1">
          <h3 class="font-semibold text-lg mb-3 text-[#0f172a]">
            Traveler Details
          </h3>

          <div formArrayName="FlightBookingTravelers">
            @for (traveler of travelers.controls; track traveler; let i =
            $index) { @if (i === travelers.length - 1) {
            <div
              [formGroupName]="i"
              class="border rounded-lg p-4 mb-4 bg-gray-50"
            >
              <div class="flex justify-between items-center mb-2">
                <h4 class="font-bold text-[#0f172a]">Traveler {{ i + 1 }}</h4>
                @if (travelers.length > 1) {
                <button
                  type="button"
                  class="text-red-500 font-bold hover:text-red-700 text-sm"
                  (click)="removeTraveler(i)"
                >
                  Remove
                </button>
                }
              </div>

              <input
                type="text"
                class="shadow border rounded w-full py-2 px-3 mb-2 border-[#fbbf24]"
                formControlName="travelerName"
                placeholder="Traveler Name"
              />

              <input
                type="text"
                class="shadow border rounded w-full py-2 px-3 mb-2 border-[#fbbf24]"
                formControlName="contactNo"
                placeholder="Contact Number"
              />

              <input
                type="text"
                class="shadow border rounded w-full py-2 px-3 mb-2 border-[#fbbf24]"
                formControlName="aadharNo"
                placeholder="National ID"
              />

              <input
                type="number"
                class="shadow border rounded w-full py-2 px-3 border-[#fbbf24]"
                formControlName="seatNo"
                placeholder="Seat Number"
              />
            </div>
            } }
          </div>

          <!-- Add Traveler -->
          <div class="flex justify-center mb-4">
            <button
              type="button"
              (click)="addTraveler()"
              class="bg-[#fbbf24] hover:bg-[#facc15] text-[#0f172a] font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
            >
              + Add Traveler
            </button>
          </div>
        </div>
      </div>

      <!-- Submit Button -->
      <div class="mt-0.5 flex justify-center">
        <button
          class="w-full md:w-1/2 bg-[#0f172a] hover:bg-[#1e293b] text-white font-bold py-3 px-6 rounded focus:outline-none focus:shadow-outline"
          type="submit"
        >
          Confirm Booking
        </button>
      </div>
    </form>
  </div>
</main>
